{% extends "index.html" %}
{% block title %}Checkout Â· Traveller's Shop{% endblock %}

{% block content %}

    {% if order_submitted %}
    <div class="checkout-success">
        <h2 ><i class="fa-solid fa-plane-departure" style="color: #5e4c0a;"></i> Thank you, {{ order.full_name }}!</h2>
        <p>Your order has been received successfully.</p>
        <div class="order-summary">
            <p><strong>Total:</strong> ${{ order.total }}</p>
            <ul>
                {% for item in order.products  %}
                    <li>{{ item.qty }} x {{ item.name }} - ${{ item.subtotal }}</li>
                {% endfor %}
            </ul>
        </div>
        <a href="{{ url_for('home') }}" class="btn-explore-checkout">Explore Products</a>
    </div>
    {% else %}
    <div class="checkout-form-container">
        <h2>Checkout</h2>
        <form method="POST" class="checkout-form">
            <label for="full_name">Full Name <span class="required">*</span></label>
            <input type="text" id="full_name" name="full_name" placeholder="John Doe" required>

            <label for="email">Email <span class="required">*</span></label>
            <input type="email" id="email" name="email" placeholder="example@mail.com" required>

            <label for="phone">Phone <span class="required">*</span></label>
            <input type="tel" id="phone" name="phone" placeholder="0712345678" required>

            <label for="address">Address <span class="required">*</span></label>
            <textarea id="address" name="address" placeholder="Your full address" required></textarea>

            <label for="payment_method">Payment Method <span class="required">*</span></label>
            <select id="payment_method" name="payment_method" required>
                <option value="card">Card</option>
                <option value="bank_transfer">Bank Transfer</option>
                <option value="cash">Cash</option>
            </select>

            <button type="submit" class="checkout-btn-submit">Submit Order</button>
        </form>
    </div>
    {% endif %}

{% endblock %}
